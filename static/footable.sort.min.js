(function(e,t,n){function i(){var t=this;t.name="Footable Sortable";t.init=function(n){t.footable=n;if(n.options.sort===true){e(n.table).unbind(".sorting").bind({"footable_initialized.sorting":function(r){var i=e(n.table),s=i.find("> tbody"),o=n.options.classes.sort,u,a;if(i.data("sort")===false)return;i.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(t){a=e(this),u=n.columns[a.index()];if(u.sort.ignore!==true&&!a.hasClass(o.sortable)){a.addClass(o.sortable);e("<span />").addClass(o.indicator).appendTo(a)}});i.find("> thead > tr:last-child > th."+o.sortable+", > thead > tr:last-child > td."+o.sortable).unbind("click.footable").bind("click.footable",function(n){n.preventDefault();a=e(this);var r=!a.hasClass(o.sorted);t.doSort(a.index(),r);return false});var f=false;for(var l in n.columns){u=n.columns[l];if(u.sort.initial){var c=u.sort.initial!=="descending";t.doSort(u.index,c);break}}if(f){n.bindToggleSelectors()}},"footable_redrawn.sorting":function(r){var i=e(n.table),s=n.options.classes.sort;if(i.data("sorted")>=0){i.find("> thead > tr:last-child > th").each(function(n){var r=e(this);if(r.hasClass(s.sorted)||r.hasClass(s.descending)){t.doSort(n);return}})}},"footable_column_data.sorting":function(t){var n=e(t.column.th);t.column.data.sort=t.column.data.sort||{};t.column.data.sort.initial=n.data("sort-initial")||false;t.column.data.sort.ignore=n.data("sort-ignore")||false;t.column.data.sort.selector=n.data("sort-selector")||null;var r=n.data("sort-match")||0;if(r>=t.column.data.matches.length)r=0;t.column.data.sort.match=t.column.data.matches[r]}}).data("footable-sort",t)}};t.doSort=function(r,i){var s=t.footable;if(e(s.table).data("sort")===false)return;var o=e(s.table),u=o.find("> tbody"),a=s.columns[r],f=o.find("> thead > tr:last-child > th:eq("+r+")"),l=s.options.classes.sort,c=s.options.events.sort;i=i===n?f.hasClass(l.sorted):i==="toggle"?!f.hasClass(l.sorted):i;if(a.sort.ignore===true)return true;var h=s.raise(c.sorting,{column:a,direction:i?"ASC":"DESC"});if(h&&h.result===false)return;o.data("sorted",a.index);o.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(f).removeClass(l.sorted+" "+l.descending);if(i===n){i=f.hasClass(l.sorted)}if(i){f.removeClass(l.descending).addClass(l.sorted)}else{f.removeClass(l.sorted).addClass(l.descending)}t.sort(s,u,a,i);s.bindToggleSelectors();s.raise(c.sorted,{column:a,direction:i?"ASC":"DESC"})};t.rows=function(t,r,i){var s=[];r.find("> tr").each(function(){var r=e(this),o=null;if(r.hasClass(t.options.classes.detail))return true;if(r.next().hasClass(t.options.classes.detail)){o=r.next().get(0)}var u={row:r,detail:o};if(i!==n){u.value=t.parse(this.cells[i.sort.match],i)}s.push(u);return true}).detach();return s};t.sort=function(e,n,r,i){var s=t.rows(e,n,r);var o=e.options.sorters[r.type]||e.options.sorters.alpha;s.sort(function(e,t){if(i){return o(e.value,t.value)}else{return o(t.value,e.value)}});for(var u=0;u<s.length;u++){n.append(s[u].row);if(s[u].detail!==null){n.append(s[u].detail)}}}}if(t.footable===n||t.footable===null)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r={sort:true,sorters:{alpha:function(e,t){if(typeof e==="string"){e=e.toLowerCase()}if(typeof t==="string"){t=t.toLowerCase()}if(e===t)return 0;if(e<t)return-1;return 1},numeric:function(e,t){return e-t}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}};t.footable.plugins.register(i,r)})(jQuery,window)