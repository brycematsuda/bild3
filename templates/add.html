{% extends "layout.html" %}
{% block body %}
{% if session.logged_in %}
  {% if error %}<p class=error><strong>Error:</strong> {{ error }}{% endif %}
    <form action="{{ url_for('add_entry') }}" method=post class=add-entry>
      <dl>
        <dt>Track Title (required):</dt>
        <dd><input type=text size=25 maxlength=100 name=title>
        <dt>Track Artist:</dt>
        <dd><input type=text size=25 maxlength=100 name=artist>
        <dt>Track Album:</dt>
        <dd><input type=text size=25 maxlength=100 name=album>
        <dt>Changes:</dt>
        <dt><small>(Note: You must change at least one tag, or add something in notes.)</small></dt>
        <button type=button class=option id=basic_option>Basic Tags</button>
        <ul class=changes id=basic_changes>
			       <li>Change track title to: <input id="change_title" name=new_title type=text name=basic size=20 maxlength=100></li>
			       <li>Change track artist to: <input id="change_artist" name=new_artist type=text name=basic size=20 maxlength=100></li>
			       <li>Change track album to: <input id="change_album" name=new_album type=text name=basic size=20 maxlength=100></li>
			       <li><button type=button class=reset><small>Reset</small></button></li>
        </ul>
        <br><button type=button class=option id=quality_option>Quality/Edits</button>
        <ul class=changes id=quality_changes>
          <li>Change music quality:
          <select id="music_quality">
            <option value="none">None</option>
            <option value="high_quality">Higher quality</option>
            <option value="low_quality">Lower quality</option>
          </select>
          </li>
          <li>Edits: <input id="change_edit" name=edit type=text name=basic size=20 maxlength=100></li>
          <li><button type=button class=reset><small>Reset</small></button></li>
        </ul>
        <dt>Other Notes:</dt>
        <dd><textarea name=notes rows=5 cols=40></textarea>
          <dt>Choose one of the following (required):</dt>
            <dd><input type=radio name=update value="made_changes">I have made the following changes in my local library, but haven't updated it on my music player yet, and would like to note it for the future.
            <dd><input type=radio name=update value="not_changed">I have not made any of the following changes yet, and would like to note them for the future.
        <dd><input type=submit value=Submit>
      </dl>
    </form>
  {% else %}
  <em>You must be logged in order to add an entry.</em>
  {% endif %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
	$(document).ready(function() {
    $('.reset').on('click', function() {
      $(this).closest('form').find('input[type=text], textarea').val('');
      $("select").each(function() {
          this.selectedIndex = 0
        });
      });

    $('.option').click(function(){
    var changes = $(this).next('.changes');
    if (changes.is(":hidden")) {
        changes.slideDown();
    }
    else{
        changes.slideUp();
    }
    });
	});
</script>
{% endblock %}
